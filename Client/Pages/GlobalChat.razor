@inherits GlobalChatBase
@page "/globalchat"


<PageTitle> <b>Chat with Players around the world</b></PageTitle>
<h1> Public Chat </h1>
<b>Chat with Players around the world</b>


<div class="form-group">
    <label>
        User:
        <input @bind="userInput"  placeholder="Write your name here..." />
    </label>
</div>
<div class="form-group">
    <label>
        Message:
        <input @bind="messageInput"  placeholder="Write your message here..."/>
    </label>
</div>
<button class="btn btn-primary" @onclick="Send" disabled="@(!IsConnected)">Send</button>

<hr>

<ul id="messagesList">
    @foreach (var message in messages)
    {
        // decode message
        var ms= message.Split(":");
        var sender=ms[0];
       
        if(sender=="Receive")

            {
                <li style="color:red; text-align: left">@message</li>
            }
            else
            {
                <li style="color:blue; text-align: right">@message</li>
            }
    }
</ul>

